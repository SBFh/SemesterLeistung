/* ConnectionHub.c generated by valac 0.12.0, the Vala compiler
 * generated from ConnectionHub.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>


#define DAEMON_TYPE_CONNECTION_HUB (daemon_connection_hub_get_type ())
#define DAEMON_CONNECTION_HUB(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), DAEMON_TYPE_CONNECTION_HUB, DaemonConnectionHub))
#define DAEMON_CONNECTION_HUB_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), DAEMON_TYPE_CONNECTION_HUB, DaemonConnectionHubClass))
#define DAEMON_IS_CONNECTION_HUB(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), DAEMON_TYPE_CONNECTION_HUB))
#define DAEMON_IS_CONNECTION_HUB_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), DAEMON_TYPE_CONNECTION_HUB))
#define DAEMON_CONNECTION_HUB_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), DAEMON_TYPE_CONNECTION_HUB, DaemonConnectionHubClass))

typedef struct _DaemonConnectionHub DaemonConnectionHub;
typedef struct _DaemonConnectionHubClass DaemonConnectionHubClass;
typedef struct _DaemonConnectionHubPrivate DaemonConnectionHubPrivate;

#define DAEMON_CONFIGURATION_TYPE_SERVER_CONFIGURATION (daemon_configuration_server_configuration_get_type ())
#define DAEMON_CONFIGURATION_SERVER_CONFIGURATION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), DAEMON_CONFIGURATION_TYPE_SERVER_CONFIGURATION, DaemonConfigurationServerConfiguration))
#define DAEMON_CONFIGURATION_SERVER_CONFIGURATION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), DAEMON_CONFIGURATION_TYPE_SERVER_CONFIGURATION, DaemonConfigurationServerConfigurationClass))
#define DAEMON_CONFIGURATION_IS_SERVER_CONFIGURATION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), DAEMON_CONFIGURATION_TYPE_SERVER_CONFIGURATION))
#define DAEMON_CONFIGURATION_IS_SERVER_CONFIGURATION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), DAEMON_CONFIGURATION_TYPE_SERVER_CONFIGURATION))
#define DAEMON_CONFIGURATION_SERVER_CONFIGURATION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), DAEMON_CONFIGURATION_TYPE_SERVER_CONFIGURATION, DaemonConfigurationServerConfigurationClass))

typedef struct _DaemonConfigurationServerConfiguration DaemonConfigurationServerConfiguration;
typedef struct _DaemonConfigurationServerConfigurationClass DaemonConfigurationServerConfigurationClass;
#define _g_free0(var) (var = (g_free (var), NULL))

#define DAEMON_IRC_TYPE_IRC_CONNECTION (daemon_irc_irc_connection_get_type ())
#define DAEMON_IRC_IRC_CONNECTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), DAEMON_IRC_TYPE_IRC_CONNECTION, DaemonIRCIRCConnection))
#define DAEMON_IRC_IRC_CONNECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), DAEMON_IRC_TYPE_IRC_CONNECTION, DaemonIRCIRCConnectionClass))
#define DAEMON_IRC_IS_IRC_CONNECTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), DAEMON_IRC_TYPE_IRC_CONNECTION))
#define DAEMON_IRC_IS_IRC_CONNECTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), DAEMON_IRC_TYPE_IRC_CONNECTION))
#define DAEMON_IRC_IRC_CONNECTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), DAEMON_IRC_TYPE_IRC_CONNECTION, DaemonIRCIRCConnectionClass))

typedef struct _DaemonIRCIRCConnection DaemonIRCIRCConnection;
typedef struct _DaemonIRCIRCConnectionClass DaemonIRCIRCConnectionClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

struct _DaemonConnectionHub {
	GObject parent_instance;
	DaemonConnectionHubPrivate * priv;
};

struct _DaemonConnectionHubClass {
	GObjectClass parent_class;
};

typedef enum  {
	DAEMON_IRC_IRC_ERROR_InvalidHost,
	DAEMON_IRC_IRC_ERROR_DNSError
} DaemonIRCIRCError;
#define DAEMON_IRC_IRC_ERROR daemon_irc_irc_error_quark ()

static gpointer daemon_connection_hub_parent_class = NULL;

GType daemon_connection_hub_get_type (void) G_GNUC_CONST;
enum  {
	DAEMON_CONNECTION_HUB_DUMMY_PROPERTY
};
GType daemon_configuration_server_configuration_get_type (void) G_GNUC_CONST;
GQuark daemon_irc_irc_error_quark (void);
DaemonConnectionHub* daemon_connection_hub_new (DaemonConfigurationServerConfiguration** servers, int servers_length1, GError** error);
DaemonConnectionHub* daemon_connection_hub_construct (GType object_type, DaemonConfigurationServerConfiguration** servers, int servers_length1, GError** error);
void daemon_global_log_Warning (const gchar* format, ...);
gchar* daemon_configuration_server_configuration_ToString (DaemonConfigurationServerConfiguration* self);
DaemonIRCIRCConnection* daemon_irc_irc_connection_new (DaemonConfigurationServerConfiguration* configuration, GError** error);
DaemonIRCIRCConnection* daemon_irc_irc_connection_construct (GType object_type, DaemonConfigurationServerConfiguration* configuration, GError** error);
GType daemon_irc_irc_connection_get_type (void) G_GNUC_CONST;


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


DaemonConnectionHub* daemon_connection_hub_construct (GType object_type, DaemonConfigurationServerConfiguration** servers, int servers_length1, GError** error) {
	DaemonConnectionHub * self = NULL;
	GError * _inner_error_ = NULL;
	self = (DaemonConnectionHub*) g_object_new (object_type, NULL);
	{
		DaemonConfigurationServerConfiguration** current_collection;
		int current_collection_length1;
		int current_it;
		current_collection = servers;
		current_collection_length1 = servers_length1;
		for (current_it = 0; current_it < servers_length1; current_it = current_it + 1) {
			DaemonConfigurationServerConfiguration* _tmp0_;
			DaemonConfigurationServerConfiguration* current;
			_tmp0_ = _g_object_ref0 (current_collection[current_it]);
			current = _tmp0_;
			{
				gchar* _tmp1_ = NULL;
				gchar* _tmp2_;
				DaemonIRCIRCConnection* _tmp3_ = NULL;
				DaemonIRCIRCConnection* _tmp4_;
				_tmp1_ = daemon_configuration_server_configuration_ToString (current);
				_tmp2_ = _tmp1_;
				daemon_global_log_Warning ("%s", _tmp2_);
				_g_free0 (_tmp2_);
				_tmp3_ = daemon_irc_irc_connection_new (current, &_inner_error_);
				_tmp4_ = _tmp3_;
				_g_object_unref0 (_tmp4_);
				if (_inner_error_ != NULL) {
					if (_inner_error_->domain == DAEMON_IRC_IRC_ERROR) {
						g_propagate_error (error, _inner_error_);
						_g_object_unref0 (current);
						_g_object_unref0 (self);
						return NULL;
					} else {
						_g_object_unref0 (current);
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
						g_clear_error (&_inner_error_);
						return NULL;
					}
				}
				_g_object_unref0 (current);
			}
		}
	}
	return self;
}


DaemonConnectionHub* daemon_connection_hub_new (DaemonConfigurationServerConfiguration** servers, int servers_length1, GError** error) {
	return daemon_connection_hub_construct (DAEMON_TYPE_CONNECTION_HUB, servers, servers_length1, error);
}


static void daemon_connection_hub_class_init (DaemonConnectionHubClass * klass) {
	daemon_connection_hub_parent_class = g_type_class_peek_parent (klass);
}


static void daemon_connection_hub_instance_init (DaemonConnectionHub * self) {
}


GType daemon_connection_hub_get_type (void) {
	static volatile gsize daemon_connection_hub_type_id__volatile = 0;
	if (g_once_init_enter (&daemon_connection_hub_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (DaemonConnectionHubClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) daemon_connection_hub_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (DaemonConnectionHub), 0, (GInstanceInitFunc) daemon_connection_hub_instance_init, NULL };
		GType daemon_connection_hub_type_id;
		daemon_connection_hub_type_id = g_type_register_static (G_TYPE_OBJECT, "DaemonConnectionHub", &g_define_type_info, 0);
		g_once_init_leave (&daemon_connection_hub_type_id__volatile, daemon_connection_hub_type_id);
	}
	return daemon_connection_hub_type_id__volatile;
}



